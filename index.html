<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>~ÌÅ¨Î¶¨Ïä§ÎßàÏä§ Ìé∏ÏßÄ~</title>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Batang&display=swap" rel="stylesheet">

<style>
    
    /*@font-face {
            font-family: 'GaramYeonkkot';
                src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2107@1.1/GaramYeonkkot.woff2') format('woff2');
                    font-weight: normal;
                        font-display: swap;
    }*/

    body {
            margin: 0;
                background: #465d46;
                    overflow: hidden;
                        font-family: 'Gowun Batang', serif;
    }

    #scene {
            position: relative;
                width: 100vw;
                    height: 100vh;
    }

    /* Îàà */
    .snow {
            position: absolute;
                inset: 0;
                    pointer-events: none;
                        background-image:
                                radial-gradient(2px 2px at 20% 30%, white 100%, transparent 0),
                                        radial-gradient(1.5px 1.5px at 60% 10%, white 100%, transparent 0),
                                                radial-gradient(1px 1px at 80% 50%, white 100%, transparent 0);
                                                    background-size: 180px 180px;
                                                        animation: snowFall 14s linear infinite;
    }

    @keyframes snowFall {
            from { background-position: 0 -200px; }
                to { background-position: 0 900px; }
    }

    /* Ïïå */
    #egg {
            position: absolute;
                left: 4vw;
                    bottom: 4vh;
                        width: 20vw;
                            max-width: 120px;
                                cursor: pointer;
    }

    /* Ìé∏ÏßÄ1 */
    #letter1-container {
            position: absolute;
                top: 10vh;
                    left: 50%;
                        transform: translateX(-50%) translateY(30px);
                            width: 65vw;
                                max-width: 330px;
                                    opacity: 0;
                                        transition: all 0.8s ease;
                                            display: none;
    }

    #letter1-container.show {
            opacity: 1;
                transform: translateX(-50%) translateY(0);
    }

    #letter1 {
            width: 100%;
    }

    #letter1-text {
            position: absolute;
                top: 12%;
                    left: 10%;
                        width: 80%;
                            font-size: clamp(14px, 3vw, 18px);
                                line-height: 1.5;
                                    white-space: pre-line;
                                        color: #333;
    }

    /* Ìé∏ÏßÄ2 */
    #letter2-container {
            position: absolute;
                bottom: 5vh;
                    left: 50%;
                        transform: translateX(-50%);
                            width: 65vw;
                                max-width: 330px;
    }

    #letter2 {
            width: 100%;
    }

    /* ÌÖçÏä§Ìä∏ ÏûÖÎ†• */
    #textBox {
            position: absolute;
                top: 18%;
                    bottom: 12%;
                        left: 10%;
                            width: 80%;
                                resize: none;
                                    border: none;
                                        background: transparent;
                                            font-family: 'Gowun Batang', serif;
                                                font-size: clamp(14px, 3vw, 18px);
                                                    line-height: 1.5;
                                                        outline: none;
                                                            color: #333;
                                                                overflow-y: auto;
                                                                    white-space: pre-wrap;
    }

    /* Î≤ÑÌäº */
    #buttons {
            position: absolute;
                top: 10px;
                    right: 10px;
                        display: flex;
                            gap: 8px;
    }

    button {
            padding: 6px 12px;
                border: none;
                    border-radius: 6px;
                        background: #8b2f2f;
                            color: white;
                                font-family: 'Gowun Batang', serif;
                                    font-size: 14px;
                                        cursor: pointer;
    }

    /* üì± Î™®Î∞îÏùº Ï¥àÏÜåÌòï Î≥¥Ï†ï */
    @media (max-width: 768px) {

            #egg {
                        position: absolute;
                                left: 50%;
                                        bottom: 4vh;
                                                transform: translateX(-50%);
                                                        width: 30vw;
            }

                #letter2-container {
                            bottom: 18vh;   /* ‚Üê Ïïå ÏúÑÎ°ú Î∞ÄÏñ¥Ï§å */
                }
    }
    </style>
    </head>

    <body>
    <div id="scene">
        <div class="snow"></div>

            <img id="egg" src="Ïïå.png">

                <div id="letter1-container">
                        <img id="letter1" src="Ìé∏ÏßÄ1.png">
                                <div id="letter1-text">
                                Î©îÎ¶¨ ÌÅ¨Î¶¨Ïä§ÎßàÏä§üéÑ
                                (^-^)/üåü
                                ÏÉàÌï¥Ïóî Ï¢ãÏùÄ ÏùºÏù¥ 
                                Îçî ÎßéÏù¥ ÏùºÏñ¥ÎÇòÍ∏∏ Î∞îÎûÑÍ≤å.
                                ÌñâÎ≥µÌïú ÌïòÎ£® Î≥¥ÎÇ¥~~üòç
                                üéÑüéÑüéÑüéÑüéÑüéÑüéÑüéÑ
                                        </div>
                                            </div>

                                                 <div id="letter2-container">
                                                         <img id="letter2" src="Ìé∏ÏßÄ2.png">
                                                                 <textarea id="textBox" placeholder="Ïó¨Í∏∞Ïóê Í∏ÄÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"></textarea>
                                                                     </div>

                                                                         <div id="buttons">
                                                                                 <button onclick="saveText()">Ï†ÄÏû•</button>
                                                                                         <button onclick="saveImage()">Ïù¥ÎØ∏ÏßÄ Ï†ÄÏû•</button>
                                                                                             </div>
                                                                                             </div>

                                                                                             <script>
                                                                                             let eggOpen = false;

                                                                                             const egg = document.getElementById("egg");
                                                                                             const letter1Container = document.getElementById("letter1-container");
                                                                                             const textBox = document.getElementById("textBox");

                                                                                             egg.addEventListener("click", () => {
                                                                                                    eggOpen = !eggOpen;
                                                                                                        egg.src = eggOpen ? "Ïïå2.png" : "Ïïå.png";

                                                                                                            if (eggOpen) {
                                                                                                                        letter1Container.style.display = "block";
                                                                                                                                setTimeout(() => letter1Container.classList.add("show"), 10);
                                                                                                            } else {
                                                                                                                        letter1Container.classList.remove("show");
                                                                                                                                setTimeout(() => letter1Container.style.display = "none", 800);
                                                                                                            }
                                                                                             });

                                                                                             function saveText() {
                                                                                                    localStorage.setItem("letterText", textBox.value);
                                                                                                        alert("ÌÖçÏä§Ìä∏Í∞Ä Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§!");
                                                                                             }

                                                                                             window.onload = () => {
                                                                                                    const saved = localStorage.getItem("letterText");
                                                                                                        if (saved) textBox.value = saved;
                                                                                             };

                                                                                             function saveImage() {
                                                                                                    const bodyStyle = window.getComputedStyle(document.body);

                                                                                                        // ÏûÑÏãú ÎûòÌçº ÏÉùÏÑ±
                                                                                                            const wrapper = document.createElement("div");
                                                                                                                wrapper.style.position = "fixed";
                                                                                                                    wrapper.style.left = "0";
                                                                                                                        wrapper.style.top = "0";
                                                                                                                            wrapper.style.width = "100vw";
                                                                                                                                wrapper.style.height = "100vh";
                                                                                                                                    wrapper.style.background = bodyStyle.background;
                                                                                                                                        wrapper.style.zIndex = "-1";

                                                                                                                                            // scene Î≥µÏ†ú
                                                                                                                                                const clone = document.getElementById("scene").cloneNode(true);

                                                                                                                                                    wrapper.appendChild(clone);
                                                                                                                                                        document.body.appendChild(wrapper);

                                                                                                                                                            html2canvas(wrapper, {
                                                                                                                                                                        useCORS: true,
                                                                                                                                                                                backgroundColor: null
                                                                                                                                                            }).then(canvas => {
                                                                                                                                                                        const link = document.createElement("a");
                                                                                                                                                                                link.download = "Ìé∏ÏßÄ.png";
                                                                                                                                                                                        link.href = canvas.toDataURL("image/png");
                                                                                                                                                                                                link.click();

                                                                                                                                                                                                        // Ï†ïÎ¶¨
                                                                                                                                                                                                                document.body.removeChild(wrapper);
                                                                                                                                                            });
                                                                                             }

                                                                                             </script>
                                                                                             </body>
                                                                                             </html>
                                                                                                                                                            })
                                                                                                                                                            })
                                                                                             }
                                                                                             }
                                                                                             }
                                                                                                            }
                                                                                                            }
                                                                                             })
                }
            }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
    }
